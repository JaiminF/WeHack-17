var app=function(){var i=$("#js-nav a"),r=$("main > section[id]"),t={scrollSpy:{isScrolling:!1,currInside:r.eq(0),currInsideTop:0,currInsideBottom:0}};return t.init=function(){this.registerHandlers();var i=this.scrollSpy;i.currInsideTop=i.currInside.position().top,i.currInsideBottom=i.currInsideTop+i.currInside.height()},t.registerHandlers=function(){this.navTileOnClick(),this.changeNavActiveOnScroll()},t.navTileOnClick=function(){var r=this;i.click(function(t){t.preventDefault();var n=$(this),o=n.attr("href").substring(1);r.scrollToId(o),i.parent().filter(".active").removeClass("active"),n.parent().addClass("active")})},t.changeNavActiveOnScroll=function(){var t=i.parent(),n=this.scrollSpy;$(window).scroll(function(o){var e=Math.floor($("body").scrollTop()),s=t.filter(".active");if(!(n.isScrolling||e>=n.currInsideTop&&e<=n.currInsideBottom))for(var c=0;c<r.length;++c){var l=r.eq(c),a=l.position().top,p=a+l.height();if(e>=a&&e<=p){n.currInside=l,n.currInsideTop=a,n.currInsideBottom=p,i.filter('[href="#'+l.attr("id")+'"]').parent().addClass("active"),s.removeClass("active");break}}})},t.scrollToId=function(i){var r=$("#"+i),t=r.position().top,n=this.scrollSpy;n.isScrolling=!0,$("body").stop(!0,!1).animate({scrollTop:t},"slow",function(){n.isScrolling=!1})},t};$(function(){app().init()});